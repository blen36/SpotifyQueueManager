{% if spotify_not_connected %}
<div class="text-center text-warning mt-3">
    <p>Host is not connected to Spotify</p>
    <a href="/api/get-auth-url"
       class="btn btn-success rounded-pill mt-2">
        <i class="bi bi-spotify"></i> Connect Spotify
    </a>
</div>

{% else %}
<div class="list-group">
    {% for song in songs %}
    <div class="list-group-item d-flex align-items-center bg-dark text-white border-secondary mb-2 rounded">
        <img src="{{ song.image_url }}" alt="{{ song.title }}" class="rounded me-3" width="50" height="50">

        <div class="flex-grow-1">
            <h6 class="mb-0 fw-bold">{{ song.title }}</h6>
            <small class="text-secondary">{{ song.artist }}</small>
        </div>

        <button class="btn btn-sm btn-success rounded-pill px-3"
                hx-post="/api/add-to-queue"
                hx-vals='{"uri": "{{ song.uri }}"}'
                hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                hx-swap="outerHTML"
                hx-on::after-request="this.innerHTML='Added!'; this.disabled=true; this.classList.remove('btn-success'); this.classList.add('btn-outline-secondary')">
            <i class="bi bi-plus-lg"></i> Add
        </button>
    </div>
    {% empty %}
        <div class="text-center text-secondary mt-3">
            <p>Ничего не найдено</p>
        </div>
    {% endfor %}
</div>
{% endif %}